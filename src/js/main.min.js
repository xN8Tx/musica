"use strict";document.addEventListener("DOMContentLoaded",(t=>{const e=[{name:"Amnesia(I)",group:"Crystal Castles",src:"image/cover.jpg"},[{name:"Femen",group:"Crystal Castles",time:"152",src:"audio/1Femen.mp3"},{name:"Fleece",group:"Crystal Castles",time:"155",src:"audio/2Fleece.mp3"},{name:"Char",group:"Crystal Castles",time:"188",src:"audio/3Char.mp3"},{name:"Enth",group:"Crystal Castles",time:"209",src:"audio/4Enth.mp3"},{name:"Sadist",group:"Crystal Castles",time:"150",src:"audio/5Sadist.mp3"},{name:"Teach Her How To Hunt",group:"Crystal Castles",time:"115",src:"audio/6Teach Her How To Hunt.mp3"},{name:"Chloroform",group:"Crystal Castles",time:"188",src:"audio/7Chloroform.mp3"},{name:"Frail",group:"Crystal Castles",time:"169",src:"audio/8Frail.mp3"},{name:"Concrete",group:"Crystal Castles",time:"196",src:"audio/9Concrete.mp3"},{name:"Ornament",group:"Crystal Castles",time:"209",src:"audio/10Ornament.mp3"},{name:"Their Kindness is Charade",group:"Crystal Castles",time:"225",src:"audio/11Their Kindness is Charade.mp3"}]];document.documentElement.style.setProperty("--background",`url('../${e[0].src}')`);const r=e[1].length;function a(t){let e=Number(t.time),r=Math.floor(e/60);r<10&&(r="0"+r);let a=e%60;return a<10&&(a="0"+a),r+":"+a}const n=document.querySelector(".cover__cover > img"),i=document.querySelector(".cover__row_title > .text__album-name"),s=document.querySelector(".cover__row_title > .text__group-name"),o=document.querySelector(".cover__row_title > .text__time");n.setAttribute("src",`${e[0].src}`),i.innerHTML=`${e[0].name}`,s.innerHTML=`${e[0].group}`,o.innerHTML=`${r} songs ~ ${function(){let t=0;for(const r of e[1])t+=Number(r.time);return Math.floor(t/60)+":"+t%60}()}`;const l=document.querySelector(".list__row");let d=0;for(const t of e[1]){const r=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),s=document.createElement("div"),o=document.createElement("div"),c=document.createElement("div");r.classList.add("list__track"),r.setAttribute("data-id",d),n.classList.add("list__track_images"),i.classList.add("list__track_name","text__time"),s.classList.add("list__track_album","text__time"),o.classList.add("list__track_time","text__time"),c.classList.add("list__track_menu"),n.innerHTML=`\n            <img src="${e[0].src}" alt="">\n            <svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">\n                <path fill-rule="evenodd" clip-rule="evenodd" d="M1.43496 8.37182C0.540791 5.58016 1.58662 2.10933 4.51746 1.16599C6.05912 0.668493 7.96162 1.08349 9.04246 2.57433C10.0616 1.02849 12.0191 0.671826 13.5591 1.16599C16.4891 2.10933 17.5408 5.58016 16.6475 8.37182C15.2558 12.7968 10.4 15.1018 9.04246 15.1018C7.68579 15.1018 2.87329 12.8485 1.43496 8.37182Z" stroke-width="0.625" stroke-linecap="round" stroke-linejoin="round"/>\n                <path d="M12.1572 4.30328C13.163 4.40662 13.7922 5.20412 13.7547 6.32162" stroke-width="0.625" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg> \n        `,i.innerHTML=`\n            <p>${t.name} -  ${e[0].group}</p>\n        `,s.innerHTML=`\n            <p>${e[0].name}</p>\n        `,o.innerHTML=`\n            <p>${a(t)}</p>\n        `,c.innerHTML='\n            <svg width="17" height="17" viewBox="0 0 17 17"  xmlns="http://www.w3.org/2000/svg">\n                <path d="M8.25782 8.94595C8.63788 8.94595 8.94598 8.63785 8.94598 8.25779C8.94598 7.87774 8.63788 7.56964 8.25782 7.56964C7.87777 7.56964 7.56967 7.87774 7.56967 8.25779C7.56967 8.63785 7.87777 8.94595 8.25782 8.94595Z" stroke-width="1.3763" stroke-linecap="round" stroke-linejoin="round"/>\n                <path d="M8.25782 4.12887C8.63788 4.12887 8.94598 3.82077 8.94598 3.44072C8.94598 3.06066 8.63788 2.75256 8.25782 2.75256C7.87777 2.75256 7.56967 3.06066 7.56967 3.44072C7.56967 3.82077 7.87777 4.12887 8.25782 4.12887Z" stroke-width="1.3763" stroke-linecap="round" stroke-linejoin="round"/>\n                <path d="M8.25782 13.763C8.63788 13.763 8.94598 13.4549 8.94598 13.0749C8.94598 12.6948 8.63788 12.3867 8.25782 12.3867C7.87777 12.3867 7.56967 12.6948 7.56967 13.0749C7.56967 13.4549 7.87777 13.763 8.25782 13.763Z" stroke-width="1.3763" stroke-linecap="round" stroke-linejoin="round"/>\n            </svg>  \n        ',r.appendChild(n),r.appendChild(i),r.appendChild(s),r.appendChild(o),r.appendChild(c),l.appendChild(r),d+=1}d=null,l.addEventListener("click",(t=>{for(const t of l.children)t.classList.remove("active");p(t.target,"list__track").classList.add("active")}));const c=document.querySelector(".player");function u(){play.innerHTML='\n        <svg width="9" height="10" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M11 2.5V15.5C11 15.9647 11 16.197 11.0384 16.3902C11.1962 17.1836 11.816 17.8037 12.6094 17.9615C12.8026 18 13.0349 18 13.4996 18C13.9642 18 14.197 18 14.3902 17.9615C15.1836 17.8037 15.8041 17.1836 15.9619 16.3902C16 16.1987 16 15.9687 16 15.5122V15.5V2.5V2.48777C16 2.03126 16 1.80136 15.9619 1.60986C15.8041 0.816482 15.1836 0.196243 14.3902 0.0384294C14.197 0 13.9647 0 13.5 0C13.0353 0 12.8026 0 12.6094 0.0384295C11.816 0.196243 11.1962 0.816482 11.0384 1.60986C11 1.80306 11 2.03534 11 2.5Z" fill="white"/>\n            <path d="M0 2.5V15.5C0 15.9647 0 16.197 0.0384295 16.3902C0.196243 17.1836 0.815994 17.8037 1.60938 17.9615C1.80257 18 2.0349 18 2.49956 18C2.96421 18 3.19698 18 3.39018 17.9615C4.18356 17.8037 4.8041 17.1836 4.96191 16.3902C5 16.1987 5 15.9687 5 15.5122V15.5V2.5V2.48777C5 2.03126 5 1.80136 4.96191 1.60986C4.8041 0.816482 4.18356 0.196243 3.39018 0.0384294C3.19698 0 2.96465 0 2.5 0C2.03535 0 1.80257 0 1.60938 0.0384295C0.815994 0.196243 0.196243 0.816482 0.0384294 1.60986C0 1.80306 0 2.03534 0 2.5Z" fill="white"/>\n        </svg>\n        ',audio.play(),_(),y(),play.setAttribute("data-status","play"),c.classList.add("active")}function m(t){for(const t of l.children)t.classList.remove("active");document.querySelector(`[data-id="${t}"]`).classList.add("active")}function p(t,e){for(;!t.classList.contains(e);)t=t.parentElement;return t}function C(){songArticle.innerHTML=`\n            ${e[1][g].name}\n        `,groupArticle.innerHTML=`\n            ${e[1][g].group}\n        `,coverArticle.setAttribute("src",`${e[0].src}`)}let h,g,v;function y(){const t=document.querySelector(".now");let r;v=setInterval((()=>{let a=audio.currentTime,n=a/audio.duration*100;a==audio.duration&&"nonactive"==repeat.getAttribute("data-status")&&("active"==random.getAttribute("data-status")?(g=Number(Math.floor(Math.random()*(Number(e[1].length)-1))),audio.setAttribute("src",e[1][g].src),m(g),C(),_(),y(),u()):(g=Number(g)+1,audio.setAttribute("src",e[1][g].src),m(g),C(),u(),_(),y())),r==a&&clearTimeout(v),document.documentElement.style.setProperty("--time",`${n}%`),document.documentElement.style.setProperty("--cursor",t.clientWidth-5+"px"),r=a}),500)}function _(){clearTimeout(v)}play.addEventListener("click",(t=>{"pause"==play.getAttribute("data-status")?(play.innerHTML='\n                <svg width="9" height="10" viewBox="0 0 16 18" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M11 2.5V15.5C11 15.9647 11 16.197 11.0384 16.3902C11.1962 17.1836 11.816 17.8037 12.6094 17.9615C12.8026 18 13.0349 18 13.4996 18C13.9642 18 14.197 18 14.3902 17.9615C15.1836 17.8037 15.8041 17.1836 15.9619 16.3902C16 16.1987 16 15.9687 16 15.5122V15.5V2.5V2.48777C16 2.03126 16 1.80136 15.9619 1.60986C15.8041 0.816482 15.1836 0.196243 14.3902 0.0384294C14.197 0 13.9647 0 13.5 0C13.0353 0 12.8026 0 12.6094 0.0384295C11.816 0.196243 11.1962 0.816482 11.0384 1.60986C11 1.80306 11 2.03534 11 2.5Z" fill="white"/>\n                    <path d="M0 2.5V15.5C0 15.9647 0 16.197 0.0384295 16.3902C0.196243 17.1836 0.815994 17.8037 1.60938 17.9615C1.80257 18 2.0349 18 2.49956 18C2.96421 18 3.19698 18 3.39018 17.9615C4.18356 17.8037 4.8041 17.1836 4.96191 16.3902C5 16.1987 5 15.9687 5 15.5122V15.5V2.5V2.48777C5 2.03126 5 1.80136 4.96191 1.60986C4.8041 0.816482 4.18356 0.196243 3.39018 0.0384294C3.19698 0 2.96465 0 2.5 0C2.03535 0 1.80257 0 1.60938 0.0384295C0.815994 0.196243 0.196243 0.816482 0.0384294 1.60986C0 1.80306 0 2.03534 0 2.5Z" fill="white"/>\n                </svg>\n            ',audio.play(),_(),y(),play.setAttribute("data-status","play")):"play"==play.getAttribute("data-status")&&(play.innerHTML='\n                <svg width="9" height="10" viewBox="0 0 9 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n                    <path d="M0.333344 4.77269V2.95366C0.333344 0.619264 1.98563 -0.33566 4.0017 0.831537L5.57814 1.741L7.15463 2.65047C9.17069 3.81767 9.17069 5.7277 7.15463 6.8949L5.57814 7.80437L4.0017 8.71383C1.98563 9.88103 0.333344 8.92611 0.333344 6.59171V4.77269Z" fill="#EFEEE0"/>\n                </svg> \n            ',_(),audio.pause(),play.setAttribute("data-status","pause"))})),l.addEventListener("click",(t=>{let r=p(t.target,"list__track");g=Number(r.getAttribute("data-id")),h==g?"play"==play.getAttribute("data-status")?(play.innerHTML='\n        <svg width="9" height="10" viewBox="0 0 9 10" fill="none" xmlns="http://www.w3.org/2000/svg">\n            <path d="M0.333344 4.77269V2.95366C0.333344 0.619264 1.98563 -0.33566 4.0017 0.831537L5.57814 1.741L7.15463 2.65047C9.17069 3.81767 9.17069 5.7277 7.15463 6.8949L5.57814 7.80437L4.0017 8.71383C1.98563 9.88103 0.333344 8.92611 0.333344 6.59171V4.77269Z" fill="#EFEEE0"/>\n        </svg> \n        ',audio.pause(),_(),play.setAttribute("data-status","pause")):u():(C(),audio.setAttribute("src",e[1][g].src),u()),h=g})),next.addEventListener("click",(()=>{"active"==random.getAttribute("data-status")?(g=Number(Math.floor(Math.random()*(Number(e[1].length)-1))),audio.setAttribute("src",e[1][g].src),m(g),u()):g==e[1].length-1?(g=0,audio.setAttribute("src",e[1][g].src),m(g),C(),u()):(g=Number(g)+1,audio.setAttribute("src",e[1][g].src),m(g),C(),u())})),previous.addEventListener("click",(()=>{0==g?(g=e[1].length-1,audio.setAttribute("src",e[1][g].src),m(g),C(),u()):(g=Number(g)-1,audio.setAttribute("src",e[1][g].src),m(g),C(),u())})),playAll.addEventListener("click",(()=>{audio.setAttribute("src",e[1][0].src),u(),m(0)})),random.addEventListener("click",(()=>{"active"==random.getAttribute("data-status")?random.setAttribute("data-status","nonactive"):random.setAttribute("data-status","active")})),repeat.addEventListener("click",(()=>{"active"==repeat.getAttribute("data-status")?(audio.loop=!1,repeat.setAttribute("data-status","nonactive")):(audio.loop=!0,repeat.setAttribute("data-status","active"))}));const w=document.querySelector(".player__controllers_timeline");w.addEventListener("click",(t=>{let e=(t.pageX-w.offsetLeft)/w.clientWidth*100,r=audio.duration/100*e;audio.currentTime=r}));const L=document.querySelector(".player__volume_line");document.querySelector(".player__volume").addEventListener("click",(t=>{let e=t.pageX-L.offsetLeft;document.documentElement.style.setProperty("--volume",`${e}px`),audio.volume=(e/L.clientWidth).toFixed(1)}))}));